{"version":3,"sources":["../../src/match/match-playable.js"],"names":["PlayableMatch","match","commandStrategy","commandInvoker","_match","_commandStrategy","_commandInvoker","canUndo","undo","matchCommandStrategy","canStartOver","startOver","clearHistory","matchCommands","matchSetCommands","setGameCommands"],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;;;IACMA,a;AAEF,2BAAYC,KAAZ,EAAmBC,eAAnB,EAAoCC,cAApC,EAAoD;AAAA;;AAChD,aAAKC,MAAL,GAAcH,KAAd;AACA,aAAKI,gBAAL,GAAwBH,eAAxB;AACA,aAAKI,eAAL,GAAuBH,cAAvB;AACH;;;;;;;;;;;iCAeO,KAAKA,cAAL,CAAoBI,O;;;;;;mCACd,gCAAkB;AAAA,uCAAI,MAAKJ,cAAL,CAAoBK,IAApB,EAAJ;AAAA,6BAAlB,C;;;iCAGN,KAAKN,eAAL,CAAqBO,oBAArB,CAA0CC,Y;;;;;;mCACpC,4BAAc,YAAK;AACrB,sCAAKR,eAAL,CAAqBO,oBAArB,CAA0CE,SAA1C;AACA,sCAAKR,cAAL,CAAoBS,YAApB;AACH,6BAHK,C;;;;;;;;;;;wCAOE;AACZ,mBAAO,KAAKV,eAAL,CAAqBW,aAArB,EAAP;AACH;;;2CAEkB;AACf,mBAAO,KAAKX,eAAL,CAAqBY,gBAArB,EAAP;AACH;;;0CAEiB;AACd,mBAAO,KAAKZ,eAAL,CAAqBa,eAArB,EAAP;AACH;;AAGD;AACA;AACA;AACA;;;;4BAzCY;AACR,mBAAO,KAAKX,MAAZ;AACH;;;4BAEqB;AAClB,mBAAO,KAAKC,gBAAZ;AACH;;;4BAEoB;AACjB,mBAAO,KAAKC,eAAZ;AACH;;;;;QAmCGN,a,GAAAA,a","file":"match-playable.js","sourcesContent":["\nimport {UndoOperation, StartOver} from './match-command'\nclass PlayableMatch  {\n\n    constructor(match, commandStrategy, commandInvoker) {\n        this._match = match;\n        this._commandStrategy = commandStrategy;\n        this._commandInvoker = commandInvoker;\n    }\n\n    get match() {\n        return this._match;\n    }\n\n    get commandStrategy() {\n        return this._commandStrategy;\n    }\n\n    get commandInvoker() {\n        return this._commandInvoker;\n    }\n\n    *otherCommands() {\n        if (this.commandInvoker.canUndo) {\n            yield new UndoOperation(()=>this.commandInvoker.undo());\n        }\n\n        if (this.commandStrategy.matchCommandStrategy.canStartOver) {\n            yield new StartOver(()=> {\n                this.commandStrategy.matchCommandStrategy.startOver();\n                this.commandInvoker.clearHistory();\n            });\n        }\n    }\n\n    matchCommands() {\n        return this.commandStrategy.matchCommands();\n    }\n\n    matchSetCommands() {\n        return this.commandStrategy.matchSetCommands();\n    }\n\n    setGameCommands() {\n        return this.commandStrategy.setGameCommands();\n    }\n\n\n    // invoke(command) {\n    //     console.log(`invoking: ${command.title}`);\n    //     this.commandInvoker.invoke(command);\n    // }\n\n}\n\nexport {PlayableMatch}\n\n"]}