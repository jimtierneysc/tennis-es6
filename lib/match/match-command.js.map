{"version":3,"sources":["../../src/match/match-command.js"],"names":["MatchCommand","strategy","_commandStrategy","constructor","name","StartWarmup","startWarmup","undoStartWarmup","StartPlay","server","_server","startPlay","undoStartPlay","WinGame","winnerId","_winnerId","winGame","undoWinGame","WinSetTiebreak","WinMatchTiebreak","StartGame","startGame","undoStartGame","StartSetTiebreak","startSetTiebreak","undoStartSetTiebreak","StartMatchTiebreak","startMatchTiebreak","undoStartMatchTiebreak","StartSet","startSet","undoStartSet","UndoOperation","fn","StartOver"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;IAGMA,Y;AACF,0BAAYC,QAAZ,EAAsB;AAAA;;AAClB,aAAKC,gBAAL,GAAwBD,QAAxB;AACH;;;;kCAMS,CAET;;;+BAEM,CAEN;;;4BAVc;AACX,mBAAO,KAAKC,gBAAZ;AACH;;;4BAUW;AACR,mBAAO,KAAKC,WAAL,CAAiBC,IAAxB;AACH;;;;;IAICC,W;;;AAEF,yBAAYJ,QAAZ,EAAsB;AAAA;AAAA,+IACZA,QADY;AAErB;;;;kCAES;AACN,iBAAKA,QAAL,CAAcK,WAAd;AAEH;;;+BAEM;AACH,iBAAKL,QAAL,CAAcM,eAAd;AAEH;;;4BAEW;AACR,mBAAO,cAAP;AACH;;;EAlBqBP,Y;;IAsBpBQ,S;;;AACF,uBAAYP,QAAZ,EAAsBQ,MAAtB,EAA8B;AAAA;;AAAA,iJACpBR,QADoB;;AAE1B,eAAKS,OAAL,GAAeD,MAAf;AAF0B;AAG7B;;;;kCAES;AACN,iBAAKR,QAAL,CAAcU,SAAd,CAAwB,KAAKD,OAA7B;AACH;;;+BAEM;AACH,iBAAKT,QAAL,CAAcW,aAAd;AACH;;;4BAEY;AACT,mBAAO,KAAKF,OAAZ;AACH;;;4BAEW;AACR,mCAAqB,KAAKD,MAA1B;AACH;;;EApBmBT,Y;;IAwBlBa,O;;;AACF,qBAAYZ,QAAZ,EAAsBa,QAAtB,EAAgC;AAAA;;AAE5B;AAF4B,6IACtBb,QADsB;;AAG5B,eAAKc,SAAL,GAAiBD,QAAjB;AAH4B;AAI/B;;;;kCAES;AACN,iBAAKb,QAAL,CAAce,OAAd,CAAsB,KAAKF,QAA3B;AACH;;;+BAEM;AACH,iBAAKb,QAAL,CAAcgB,WAAd;AACH;;;4BAEc;AACX,mBAAO,KAAKF,SAAZ;AACH;;;4BAEW;AACR,iCAAmB,KAAKD,QAAxB;AACH;;;EArBiBd,Y;;IAyBhBkB,c;;;AACF,4BAAYjB,QAAZ,EAAsBa,QAAtB,EAAgC;AAAA;;AAAA,2JACtBb,QADsB;;AAE5B,eAAKc,SAAL,GAAiBD,QAAjB;AAF4B;AAG/B;;;;kCAES;AACN,iBAAKb,QAAL,CAAce,OAAd,CAAsB,KAAKF,QAA3B;AACH;;;+BAEM;AACH,iBAAKb,QAAL,CAAcgB,WAAd;AACH;;;4BAEc;AACX,mBAAO,KAAKF,SAAZ;AACH;;;4BAEW;AACR,yCAA2B,KAAKD,QAAhC;AACH;;;EApBwBd,Y;;IAwBvBmB,gB;;;AACF,8BAAYlB,QAAZ,EAAsBa,QAAtB,EAAgC;AAAA;;AAAA,+JACtBb,QADsB;;AAE5B,eAAKc,SAAL,GAAiBD,QAAjB;AAF4B;AAG/B;;;;kCAES;AACN,iBAAKb,QAAL,CAAce,OAAd,CAAsB,KAAKF,QAA3B;AACH;;;+BAEM;AACH,iBAAKb,QAAL,CAAcgB,WAAd;AACH;;;4BAEc;AACX,mBAAO,KAAKF,SAAZ;AACH;;;4BAEW;AACR,2CAA6B,KAAKD,QAAlC;AACH;;;EApB0Bd,Y;;IAuBzBoB,S;;;AACF,uBAAYnB,QAAZ,EAAsBQ,MAAtB,EAA8B;AAAA;;AAAA,iJACpBR,QADoB;;AAE1B,eAAKS,OAAL,GAAeD,MAAf;AAF0B;AAG7B;;;;kCAES;AACN,iBAAKR,QAAL,CAAcoB,SAAd,CAAwB,KAAKX,OAA7B;AACH;;;+BAEM;AACH,iBAAKT,QAAL,CAAcqB,aAAd,CAA4B,KAAKZ,OAAjC;AACH;;;4BAEY;AACT,mBAAO,KAAKA,OAAZ;AACH;;;4BAEW;AACR,mBAAQ,KAAKD,MAAN,mBAA8B,KAAKA,MAAnC,GAA8C,YAArD;AACH;;;EApBmBT,Y;;IAwBlBuB,gB;;;AACF,8BAAYtB,QAAZ,EAAsB;AAAA;AAAA,yJACZA,QADY;AAErB;;;;kCAES;AACN,iBAAKA,QAAL,CAAcuB,gBAAd;AACH;;;+BAEM;AACH,iBAAKvB,QAAL,CAAcwB,oBAAd;AACH;;;4BAEW;AACR,mBAAO,oBAAP;AACH;;;EAf0BzB,Y;;IAmBzB0B,kB;;;AACF,gCAAYzB,QAAZ,EAAsBQ,MAAtB,EAA8B;AAAA;AAAA,6JACpBR,QADoB;AAE7B;;;;kCAES;AACN,iBAAKA,QAAL,CAAc0B,kBAAd;AACH;;;+BAEM;AACH,iBAAK1B,QAAL,CAAc2B,sBAAd;AACH;;;4BAEW;AACR,mBAAO,sBAAP;AACH;;;EAf4B5B,Y;;IAmB3B6B,Q;;;AACF,sBAAY5B,QAAZ,EAAsB;AAAA;AAAA,yIACZA,QADY;AAErB;;;;kCAES;AACN,iBAAKA,QAAL,CAAc6B,QAAd;AACH;;;+BAEM;AACH,iBAAK7B,QAAL,CAAc8B,YAAd;AACH;;;4BAEW;AACR;AACA;AACH;;;EAhBkB/B,Y;;AAoBvB;;;IACMgC,a;AACF,2BAAYC,EAAZ,EAAgB;AAAA;;AACZ,aAAKA,EAAL,GAAUA,EAAV;AACH;;;;kCAES;AACN,iBAAKA,EAAL;AACH;;;4BAEW;AACR,mBAAO,MAAP;AACH;;;;;IAGCC,S;AACF,uBAAYD,EAAZ,EAAgB;AAAA;;AACZ,aAAKA,EAAL,GAAUA,EAAV;AACH;;;;kCAES;AACN,iBAAKA,EAAL;AACH;;;4BAEW;AACR,mBAAO,YAAP;AACH;;;;;QAGG5B,W,GAAAA,W;QAAaG,S,GAAAA,S;QACjBqB,Q,GAAAA,Q;QAAUH,kB,GAAAA,kB;QACVN,S,GAAAA,S;QAAWG,gB,GAAAA,gB;QAAkBJ,gB,GAAAA,gB;QAC7BN,O,GAAAA,O;QAASK,c,GAAAA,c;QAAgBgB,S,GAAAA,S;QAAWF,a,GAAAA,a","file":"match-command.js","sourcesContent":["\n// import {MatchStrategy} from './match-commandStrategy'\n\n\nclass MatchCommand {\n    constructor(strategy) {\n        this._commandStrategy = strategy;\n    }\n\n    get strategy() {\n        return this._commandStrategy;\n    }\n\n    execute() {\n\n    }\n\n    undo() {\n\n    }\n\n    get title() {\n        return this.constructor.name;\n    }\n\n}\n\nclass StartWarmup extends MatchCommand {\n\n    constructor(strategy) {\n        super(strategy);\n    }\n\n    execute() {\n        this.strategy.startWarmup();\n\n    }\n\n    undo() {\n        this.strategy.undoStartWarmup();\n\n    }\n\n    get title() {\n        return 'start warmup'\n    }\n\n}\n\nclass StartPlay extends MatchCommand {\n    constructor(strategy, server) {\n        super(strategy);\n        this._server = server;\n    }\n\n    execute() {\n        this.strategy.startPlay(this._server)\n    }\n\n    undo() {\n        this.strategy.undoStartPlay()\n    }\n\n    get server() {\n        return this._server;\n    }\n\n    get title() {\n        return `start play ${this.server}`\n    }\n\n}\n\nclass WinGame extends MatchCommand {\n    constructor(strategy, winnerId) {\n        super(strategy);\n        // console.log(`winner: ${winnerId}`);\n        this._winnerId = winnerId;\n    }\n\n    execute() {\n        this.strategy.winGame(this.winnerId);\n    }\n\n    undo() {\n        this.strategy.undoWinGame();\n    }\n\n    get winnerId() {\n        return this._winnerId;\n    }\n\n    get title() {\n        return `win game ${this.winnerId}`\n    }\n\n}\n\nclass WinSetTiebreak extends MatchCommand {\n    constructor(strategy, winnerId) {\n        super(strategy);\n        this._winnerId = winnerId;\n    }\n\n    execute() {\n        this.strategy.winGame(this.winnerId);\n    }\n\n    undo() {\n        this.strategy.undoWinGame();\n    }\n\n    get winnerId() {\n        return this._winnerId;\n    }\n\n    get title() {\n        return `win set tiebreak ${this.winnerId}`\n    }\n\n}\n\nclass WinMatchTiebreak extends MatchCommand {\n    constructor(strategy, winnerId) {\n        super(strategy);\n        this._winnerId = winnerId;\n    }\n\n    execute() {\n        this.strategy.winGame(this.winnerId);\n    }\n\n    undo() {\n        this.strategy.undoWinGame();\n    }\n\n    get winnerId() {\n        return this._winnerId;\n    }\n\n    get title() {\n        return `win match tiebreak ${this.winnerId}`\n    }\n}\n\nclass StartGame extends MatchCommand {\n    constructor(strategy, server) {\n        super(strategy);\n        this._server = server;\n    }\n\n    execute() {\n        this.strategy.startGame(this._server);\n    }\n\n    undo() {\n        this.strategy.undoStartGame(this._server);\n    }\n\n    get server() {\n        return this._server;\n    }\n\n    get title() {\n        return (this.server) ? `start game ${this.server}` : 'start game';\n    }\n\n}\n\nclass StartSetTiebreak extends MatchCommand {\n    constructor(strategy) {\n        super(strategy);\n    }\n\n    execute() {\n        this.strategy.startSetTiebreak();\n    }\n\n    undo() {\n        this.strategy.undoStartSetTiebreak();\n    }\n\n    get title() {\n        return 'start set tiebreak';\n    }\n\n}\n\nclass StartMatchTiebreak extends MatchCommand {\n    constructor(strategy, server) {\n        super(strategy);\n    }\n\n    execute() {\n        this.strategy.startMatchTiebreak();\n    }\n\n    undo() {\n        this.strategy.undoStartMatchTiebreak();\n    }\n\n    get title() {\n        return 'start match tiebreak';\n    }\n\n}\n\nclass StartSet extends MatchCommand {\n    constructor(strategy) {\n        super(strategy);\n    }\n\n    execute() {\n        this.strategy.startSet()\n    }\n\n    undo() {\n        this.strategy.undoStartSet()\n    }\n\n    get title() {\n        // TODO: Set ordinal\n        return `start set`\n    }\n\n}\n\n// Other commands\nclass UndoOperation {\n    constructor(fn) {\n        this.fn = fn;\n    }\n\n    execute() {\n        this.fn();\n    }\n\n    get title() {\n        return 'undo'\n    }\n}\n\nclass StartOver {\n    constructor(fn) {\n        this.fn = fn;\n    }\n\n    execute() {\n        this.fn();\n    }\n\n    get title() {\n        return 'start over'\n    }\n}\n\nexport {StartWarmup, StartPlay,\n    StartSet, StartMatchTiebreak,\n    StartGame, StartSetTiebreak, WinMatchTiebreak,\n    WinGame, WinSetTiebreak, StartOver, UndoOperation}\n\n"]}